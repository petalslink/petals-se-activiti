<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="Petals SE Activiti integration tests - Vacation Process" resourceRoot="" soapui-version="5.0.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="vacationBinding" type="wsdl" bindingName="{http://petals.ow2.org/samples/se-bpmn/vacationService}vacationBinding" soapVersion="1_1" anonymous="optional" definition="file:/home/cdeneux/workspace/petals-4.3.x/petals-se-activiti/samples/su-activiti-vacationService-provide/src/main/resources/jbi/vacationService.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="file:/home/cdeneux/workspace/petals-4.3.x/petals-se-activiti/samples/su-activiti-vacationService-provide/src/main/resources/jbi/vacationService.wsdl"><con:part><con:url>file:/home/cdeneux/workspace/petals-4.3.x/petals-se-activiti/samples/su-activiti-vacationService-provide/src/main/resources/jbi/vacationService.wsdl</con:url><con:content><![CDATA[<!--Copyright (c) 2014-2015 Linagora
 
 This program/library is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 2.1 of the License, or (at your
 option) any later version.
 
 This program/library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 for more details.
 
 You should have received a copy of the GNU Lesser General Public License
 along with this program/library; If not, see <http://www.gnu.org/licenses/>
 for the GNU Lesser General Public License version 2.1.-->
<!--======================== DEFINITION ====================================-->
<wsdl:definitions name="vacationService" targetNamespace="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vacationService="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vacationRequest="http://petals.ow2.org/samples/se-bpmn/vacationRequest" xmlns:bpmn="http://petals.ow2.org/se/bpmn/annotations/1.0" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
  <!--======================== TYPES ==========================================-->
  <wsdl:types>
    <xsd:schema targetNamespace="http://petals.ow2.org/samples/se-bpmn/vacationService">
      <xsd:import namespace="http://petals.ow2.org/samples/se-bpmn/vacationRequest" schemaLocation="vacationRequest.xsd"/>
      <xsd:element name="newVacationResponse">
        <xsd:complexType>
          <xsd:all>
            <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
          </xsd:all>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="validationRequest">
        <xsd:complexType>
          <xsd:all>
            <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
            <xsd:element name="approved-by" minOccurs="1" maxOccurs="1" type="xsd:string"/>
            <xsd:element name="rejection-reason" minOccurs="0" maxOccurs="1" type="xsd:string"/>
            <xsd:element name="approval" minOccurs="1" maxOccurs="1">
              <xsd:simpleType>
                <xsd:restriction base="xsd:string">
                  <xsd:enumeration id="Approved" value="true"/>
                  <xsd:enumeration id="Rejected" value="false"/>
                </xsd:restriction>
              </xsd:simpleType>
            </xsd:element>
          </xsd:all>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="validationResponse">
        <xsd:complexType>
          <xsd:all>
            <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
          </xsd:all>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="vacationUpdateRequest">
        <xsd:complexType>
          <xsd:complexContent>
            <xsd:extension base="vacationRequest:vacationRequestType">
              <xsd:sequence>
                <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
                <xsd:element name="confirmed" minOccurs="1" maxOccurs="1">
                  <xsd:simpleType>
                    <xsd:restriction base="xsd:string">
                      <xsd:enumeration id="Updated" value="true"/>
                      <xsd:enumeration id="Canceled" value="false"/>
                    </xsd:restriction>
                  </xsd:simpleType>
                </xsd:element>
              </xsd:sequence>
            </xsd:extension>
          </xsd:complexContent>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="vacationUpdateResponse">
        <xsd:complexType>
          <xsd:all>
            <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
          </xsd:all>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="vacationRequestIdUnknown">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="vacationRequestAlreadyValidated">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="unexpectedUser">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
            <xsd:element name="userId" type="xsd:string" minOccurs="1" maxOccurs="1"/>
            <xsd:element name="taskId" type="xsd:string" minOccurs="1" maxOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
    </xsd:schema>
  </wsdl:types>
  <!--======================== MESSAGES =======================================-->
  <wsdl:message name="newVacationRequest">
    <wsdl:part name="parameters" element="vacationRequest:vacationRequest"/>
  </wsdl:message>
  <wsdl:message name="newVacationResponse">
    <wsdl:part name="parameters" element="vacationService:newVacationResponse"/>
  </wsdl:message>
  <wsdl:message name="validationRequest">
    <wsdl:part name="parameters" element="vacationService:validationRequest"/>
  </wsdl:message>
  <wsdl:message name="validationResponse">
    <wsdl:part name="parameters" element="vacationService:validationResponse"/>
  </wsdl:message>
  <wsdl:message name="updateRequest">
    <wsdl:part name="parameters" element="vacationService:vacationUpdateRequest"/>
  </wsdl:message>
  <wsdl:message name="updateResponse">
    <wsdl:part name="parameters" element="vacationService:vacationUpdateResponse"/>
  </wsdl:message>
  <wsdl:message name="vacationRequestIdUnknown">
    <wsdl:part name="fault" element="vacationService:vacationRequestIdUnknown"/>
  </wsdl:message>
  <wsdl:message name="vacationRequestAlreadyValidated">
    <wsdl:part name="fault" element="vacationService:vacationRequestAlreadyValidated"/>
  </wsdl:message>
  <wsdl:message name="unexpectedUser">
    <wsdl:part name="fault" element="vacationService:unexpectedUser"/>
  </wsdl:message>
  <!--======================== PORT TYPE (SU jbi.xml interface-name)===============-->
  <wsdl:portType name="vacation">
    <wsdl:operation name="new">
      <wsdl:input message="vacationService:newVacationRequest"/>
      <wsdl:output message="vacationService:newVacationResponse"/>
    </wsdl:operation>
    <wsdl:operation name="validate">
      <wsdl:input message="vacationService:validationRequest"/>
      <wsdl:output message="vacationService:validationResponse"/>
      <wsdl:fault message="vacationService:vacationRequestAlreadyValidated" name="vacationRequestAlreadyValidated"/>
      <wsdl:fault message="vacationService:vacationRequestIdUnknown" name="vacationRequestIdUnknown"/>
      <wsdl:fault message="vacationService:unexpectedUser" name="unexpectedUser"/>
    </wsdl:operation>
    <wsdl:operation name="update">
      <wsdl:input message="vacationService:updateRequest"/>
      <wsdl:output message="vacationService:updateResponse"/>
      <wsdl:fault message="vacationService:vacationRequestIdUnknown" name="vacationRequestIdUnknown"/>
    </wsdl:operation>
  </wsdl:portType>
  <!--======================== BINDINGS =======================================-->
  <wsdl:binding name="vacationBinding" type="vacationService:vacation">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="new">
      <soap:operation soapAction="http://petals.ow2.org/samples/se-bpmn/vacationService/newVacationRequest"/>
      <bpmn:operation processDefinitionId="vacationRequest" action="startEvent" actionId="start"/>
      <bpmn:userId>/*[local-name()='vacationRequest']/*[local-name()='enquirer']</bpmn:userId>
      <bpmn:variable name="numberOfDays">/*[local-name()='vacationRequest']/*[local-name()='day-number']</bpmn:variable>
      <bpmn:variable name="startDate">/*[local-name()='vacationRequest']/*[local-name()='start-date']</bpmn:variable>
      <bpmn:variable name="vacationMotivation">/*[local-name()='vacationRequest']/*[local-name()='reason']</bpmn:variable>
      <bpmn:output>newVacationRequestResponse.xsl</bpmn:output>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="validate">
      <soap:operation soapAction="http://petals.ow2.org/samples/se-bpmn/vacationService/handleRequest"/>
      <bpmn:operation processDefinitionId="vacationRequest" action="userTask" actionId="handleVacationRequest"/>
      <bpmn:processInstanceId>/*[local-name()='validationRequest']/*[local-name()='vacationRequestId']</bpmn:processInstanceId>
      <bpmn:userId>/*[local-name()='validationRequest']/*[local-name()='approved-by']</bpmn:userId>
      <bpmn:variable name="vacationApproved">/*[local-name()='validationRequest']/*[local-name()='approval']</bpmn:variable>
      <bpmn:variable name="managerMotivation">/*[local-name()='validationRequest']/*[local-name()='rejection-reason']</bpmn:variable>
      <bpmn:output>validationResponse.xsl</bpmn:output>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="vacationRequestIdUnknown">
        <bpmn:fault name="ProcessInstanceNotFoundException">vacationRequestIdUnknown.xsl</bpmn:fault>
        <soap:fault name="vacationRequestIdUnknown" use="literal"/>
      </wsdl:fault>
      <wsdl:fault name="vacationRequestAlreadyValidated">
        <bpmn:fault name="TaskCompletedException">vacationRequestAlreadyValidated.xsl</bpmn:fault>
        <soap:fault name="vacationRequestAlreadyValidated" use="literal"/>
      </wsdl:fault>
      <wsdl:fault name="unexpectedUser">
        <bpmn:fault name="UnexpectedUserException">unexpectedUser.xsl</bpmn:fault>
        <soap:fault name="unexpectedUser" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="update">
      <soap:operation soapAction="http://petals.ow2.org/samples/se-bpmn/vacationService/updateVacationRequest"/>
      <bpmn:operation processDefinitionId="vacationRequest" action="userTask" actionId="adjustVacationRequest"/>
      <bpmn:processInstanceId>/*[local-name()='vacationUpdateRequest']/*[local-name()='vacationRequestId']</bpmn:processInstanceId>
      <bpmn:userId>/*[local-name()='vacationUpdateRequest']/*[local-name()='enquirer']</bpmn:userId>
      <bpmn:variable name="numberOfDays">/*[local-name()='vacationUpdateRequest']/*[local-name()='day-number']</bpmn:variable>
      <bpmn:variable name="startDate">/*[local-name()='vacationUpdateRequest']/*[local-name()='start-date']</bpmn:variable>
      <bpmn:variable name="vacationMotivation">/*[local-name()='vacationUpdateRequest']/*[local-name()='reason']</bpmn:variable>
      <bpmn:variable name="resendRequest">/*[local-name()='vacationUpdateRequest']/*[local-name()='confirmed']</bpmn:variable>
      <bpmn:output>adjustRequestResponse.xsl</bpmn:output>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="vacationRequestIdUnknown">
        <bpmn:fault name="ProcessInstanceNotFoundException">vacationRequestIdUnknown.xsl</bpmn:fault>
        <soap:fault name="vacationRequestIdUnknown" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <!--======================== SERVICE (SU jbi.xml service-name) ==============-->
  <wsdl:service name="vacationService">
    <wsdl:port name="autogenerate" binding="vacationService:vacationBinding">
      <soap:address location="http://localhost:9003/vacationService"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>file:/home/cdeneux/workspace/petals-4.3.x/petals-se-activiti/samples/su-activiti-vacationService-provide/src/main/resources/jbi/vacationRequest.xsd</con:url><con:content><![CDATA[<!--Copyright (c) 2015 Linagora
 
 This program/library is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 2.1 of the License, or (at your
 option) any later version.
 
 This program/library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 for more details.
 
 You should have received a copy of the GNU Lesser General Public License
 along with this program/library; If not, see <http://www.gnu.org/licenses/>
 for the GNU Lesser General Public License version 2.1.-->
<xsd:schema targetNamespace="http://petals.ow2.org/samples/se-bpmn/vacationRequest" elementFormDefault="qualified" jaxb:version="2.1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jaxb="http://java.sun.com/xml/ns/jaxb" xmlns:vacationRequest="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
  <xsd:element name="vacationRequest" type="vacationRequest:vacationRequestType"/>
  <xsd:complexType name="vacationRequestType">
    <xsd:sequence>
      <xsd:element name="enquirer" minOccurs="1" maxOccurs="1" type="xsd:string"/>
      <xsd:element name="day-number" minOccurs="1" maxOccurs="1" type="xsd:long"/>
      <xsd:element name="start-date" minOccurs="1" maxOccurs="1" type="xsd:dateTime"/>
      <xsd:element name="reason" minOccurs="0" maxOccurs="1" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="vacationRequestId" type="xsd:string"/>
</xsd:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:endpoint>http://localhost:9003/vacationService</con:endpoint></con:endpoints><con:operation isOneWay="false" action="http://petals.ow2.org/samples/se-bpmn/vacationService/newVacationRequest" name="new" bindingOperationName="new" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:vacationRequest>
         <vac:enquirer>gonzo</vac:enquirer>
         <vac:day-number>10</vac:day-number>
         <vac:start-date>2015-04-26</vac:start-date>
         <!--Optional:-->
         <vac:reason>holidays</vac:reason>
      </vac:vacationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/newVacationRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation isOneWay="false" action="http://petals.ow2.org/samples/se-bpmn/vacationService/updateVacationRequest" name="update" bindingOperationName="update" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:vacationUpdateRequest>
         <vac1:enquirer>gonzo</vac1:enquirer>
         <vac1:day-number>10</vac1:day-number>
         <vac1:start-date>2015-05-03</vac1:start-date>
         <vac1:vacationRequestId>60099</vac1:vacationRequestId>
         <confirmed>true</confirmed>
      </vac:vacationUpdateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/updateVacationRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation isOneWay="false" action="http://petals.ow2.org/samples/se-bpmn/vacationService/handleRequest" name="validate" bindingOperationName="validate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Approval Request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!--You may enter the following 4 items in any order-->
         <vac1:vacationRequestId>60099</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <!--Optional:-->
         <rejection-reason>?</rejection-reason>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/handleRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Reject Request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!--You may enter the following 4 items in any order-->
         <vac1:vacationRequestId>60099</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <!--Optional:-->
         <rejection-reason>Delivery week of your project</rejection-reason>
         <approval>false</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/handleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="notifyVacationBinding" type="wsdl" bindingName="{http://petals.ow2.org/samples/se-bpmn/notifyVacationService}notifyVacationBinding" soapVersion="1_1" anonymous="optional" definition="file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-notifyVacationService-provide/src/main/jbi/notifyVacationService.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-notifyVacationService-provide/src/main/jbi/notifyVacationService.wsdl"><con:part><con:url>file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-notifyVacationService-provide/src/main/jbi/notifyVacationService.wsdl</con:url><con:content><![CDATA[<!--Copyright (c) 2015 Linagora
 
 This program/library is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 2.1 of the License, or (at your
 option) any later version.
 
 This program/library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 for more details.
 
 You should have received a copy of the GNU Lesser General Public License
 along with this program/library; If not, see <http://www.gnu.org/licenses/>
 for the GNU Lesser General Public License version 2.1.-->
<!--======================== DEFINITION ====================================-->
<wsdl:definitions name="notifyVacationService" targetNamespace="http://petals.ow2.org/samples/se-bpmn/notifyVacationService" xmlns:notifyService="http://petals.ow2.org/samples/se-bpmn/notifyVacationService" xmlns:vacationRequest="http://petals.ow2.org/samples/se-bpmn/vacationRequest" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
  <!--======================== TYPES ==========================================-->
  <wsdl:types>
    <xsd:schema targetNamespace="http://petals.ow2.org/samples/se-bpmn/notifyVacationService">
      <xsd:import namespace="http://petals.ow2.org/samples/se-bpmn/vacationRequest" schemaLocation="vacationRequest.xsd"/>
      <xsd:element name="newVacationRequest">
        <xsd:complexType>
          <xsd:complexContent>
            <xsd:extension base="vacationRequest:vacationRequestType">
              <xsd:sequence>
                <!--TODO: replace declaration of vacationRequestId by an element reference when BARE mode will be supported-->
                <!--xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1" /-->
                <xsd:element name="vacationRequestId" type="xsd:string" minOccurs="1" maxOccurs="1"/>
              </xsd:sequence>
            </xsd:extension>
          </xsd:complexContent>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="vacationRequestApproved">
        <xsd:complexType>
          <xsd:complexContent>
            <xsd:extension base="vacationRequest:vacationRequestType">
              <xsd:sequence>
                <xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1"/>
                <xsd:element name="approved-by" type="xsd:string" minOccurs="1" maxOccurs="1"/>
              </xsd:sequence>
            </xsd:extension>
          </xsd:complexContent>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="vacationRequestUpdated">
        <xsd:complexType>
          <xsd:complexContent>
            <xsd:extension base="vacationRequest:vacationRequestType">
              <xsd:sequence>
                <!--TODO: replace declaration of vacationRequestId by an element reference when BARE mode will be supported-->
                <!--xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1" /-->
                <xsd:element name="vacationRequestId" type="xsd:string" minOccurs="1" maxOccurs="1"/>
                <xsd:element name="confirmed" type="xsd:string" minOccurs="1" maxOccurs="1"/>
              </xsd:sequence>
            </xsd:extension>
          </xsd:complexContent>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="okResponse">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="ok" type="xsd:string" minOccurs="1" maxOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
    </xsd:schema>
  </wsdl:types>
  <!--======================== MESSAGES =======================================-->
  <wsdl:message name="newVacationRequest">
    <!--TODO: JAX-WS Wrapped mode is mandatory. We could be able to work with Bare mode-->
    <wsdl:part name="parameters" element="notifyService:newVacationRequest"/>
  </wsdl:message>
  <wsdl:message name="vacationRequestApprovedRequest">
    <!--TODO: JAX-WS Wrapped mode is mandatory. We could be able to work with Bare mode-->
    <wsdl:part name="parameters" element="notifyService:vacationRequestApproved"/>
  </wsdl:message>
  <wsdl:message name="vacationRequestUpdatedRequest">
    <!--TODO: JAX-WS Wrapped mode is mandatory. We could be able to work with Bare mode-->
    <wsdl:part name="parameters" element="notifyService:vacationRequestUpdated"/>
  </wsdl:message>
  <wsdl:message name="okResponse">
    <wsdl:part name="parameters" element="notifyService:okResponse"/>
  </wsdl:message>
  <!--======================== PORT TYPE (SU jbi.xml interface-name)===============-->
  <wsdl:portType name="notifyVacation">
    <wsdl:operation name="newVacationRequest">
      <wsdl:input message="notifyService:newVacationRequest"/>
      <wsdl:output message="notifyService:okResponse"/>
    </wsdl:operation>
    <wsdl:operation name="vacationRequestApproved">
      <wsdl:input message="notifyService:vacationRequestApprovedRequest"/>
      <wsdl:output message="notifyService:okResponse"/>
    </wsdl:operation>
    <wsdl:operation name="vacationRequestUpdated">
      <wsdl:input message="notifyService:vacationRequestUpdatedRequest"/>
      <wsdl:output message="notifyService:okResponse"/>
    </wsdl:operation>
  </wsdl:portType>
  <!--======================== BINDINGS =======================================-->
  <wsdl:binding name="notifyVacationBinding" type="notifyService:notifyVacation">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="newVacationRequest">
      <soap:operation soapAction="http://petals.ow2.org/samples/se-bpmn/notifyService/newVacationRequest"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="vacationRequestApproved">
      <soap:operation soapAction="http://petals.ow2.org/samples/se-bpmn/notifyService/vacationRequestApproved"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="vacationRequestUpdated">
      <soap:operation soapAction="http://petals.ow2.org/samples/se-bpmn/notifyService/vacationRequestUpdated"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <!--======================== SERVICE (SU jbi.xml service-name) ==============-->
  <wsdl:service name="notifyVacationService">
    <wsdl:port name="autogenerate" binding="notifyService:notifyVacationBinding">
      <soap:address location="http://localhost:9003/notifyService"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-notifyVacationService-provide/src/main/jbi/vacationRequest.xsd</con:url><con:content><![CDATA[<!--Copyright (c) 2015 Linagora
 
 This program/library is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 2.1 of the License, or (at your
 option) any later version.
 
 This program/library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 for more details.
 
 You should have received a copy of the GNU Lesser General Public License
 along with this program/library; If not, see <http://www.gnu.org/licenses/>
 for the GNU Lesser General Public License version 2.1.-->
<xsd:schema targetNamespace="http://petals.ow2.org/samples/se-bpmn/vacationRequest" elementFormDefault="qualified" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:vacationRequest="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
  <xsd:element name="vacationRequest" type="vacationRequest:vacationRequestType"/>
  <xsd:complexType name="vacationRequestType">
    <xsd:sequence>
      <xsd:element name="enquirer" minOccurs="1" maxOccurs="1" type="xsd:string"/>
      <xsd:element name="day-number" minOccurs="1" maxOccurs="1" type="xsd:long"/>
      <xsd:element name="start-date" minOccurs="1" maxOccurs="1" type="xsd:dateTime"/>
      <xsd:element name="reason" minOccurs="0" maxOccurs="1" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="vacationRequestId" type="xsd:string"/>
</xsd:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://cdeneux-laptop:8088/mockNotifyVacationService</con:endpoint><con:endpoint>http://localhost:9003/notifyService</con:endpoint></con:endpoints><con:operation isOneWay="false" action="http://petals.ow2.org/samples/se-bpmn/notifyService/newVacationRequest" name="newVacationRequest" bindingOperationName="newVacationRequest" type="Request-Response" inputName="" sendsAttachments="false" anonymous="optional" receivesAttachments="false"><con:settings/></con:operation><con:operation isOneWay="false" action="http://petals.ow2.org/samples/se-bpmn/notifyService/vacationRequestApproved" name="vacationRequestApproved" bindingOperationName="vacationRequestApproved" type="Request-Response" inputName="" sendsAttachments="false" anonymous="optional" receivesAttachments="false"><con:settings/></con:operation><con:operation isOneWay="false" action="http://petals.ow2.org/samples/se-bpmn/notifyService/vacationRequestUpdated" name="vacationRequestUpdated" bindingOperationName="vacationRequestUpdated" type="Request-Response" inputName="" sendsAttachments="false" anonymous="optional" receivesAttachments="false"><con:settings/></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="archiveSoapBinding" type="wsdl" bindingName="{http://petals.ow2.org/samples/se-bpmn/archiveService}archiveSoapBinding" soapVersion="1_1" anonymous="optional" definition="file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-archiveService-provide/src/main/jbi/archiveService.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-archiveService-provide/src/main/jbi/archiveService.wsdl"><con:part><con:url>file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-archiveService-provide/src/main/jbi/archiveService.wsdl</con:url><con:content><![CDATA[<!--Copyright (c) 2014-2015 Linagora
 
 This program/library is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 2.1 of the License, or (at your
 option) any later version.
 
 This program/library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 for more details.
 
 You should have received a copy of the GNU Lesser General Public License
 along with this program/library; If not, see <http://www.gnu.org/licenses/>
 for the GNU Lesser General Public License version 2.1.-->
<!--======================== DEFINITION ====================================-->
<wsdl:definitions name="archiveService" targetNamespace="http://petals.ow2.org/samples/se-bpmn/archiveService" xmlns:archiveService="http://petals.ow2.org/samples/se-bpmn/archiveService" xmlns:vacationRequest="http://petals.ow2.org/samples/se-bpmn/vacationRequest" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
  <!--======================== TYPES ==========================================-->
  <wsdl:types>
    <xsd:schema targetNamespace="http://petals.ow2.org/samples/se-bpmn/archiveService">
      <xsd:import namespace="http://petals.ow2.org/samples/se-bpmn/vacationRequest" schemaLocation="vacationRequest.xsd"/>
      <xsd:element name="archiveVacationRequest">
        <xsd:complexType>
          <xsd:complexContent>
            <xsd:extension base="vacationRequest:vacationRequestType">
              <xsd:sequence>
                <!--TODO: replace declaration of vacationRequestId by an element reference when BARE mode will be supported-->
                <!--xsd:element ref="vacationRequest:vacationRequestId" minOccurs="1" maxOccurs="1" /-->
                <xsd:element name="vacationRequestId" type="xsd:string" minOccurs="1" maxOccurs="1"/>
                <xsd:element name="approved-by" type="xsd:string" minOccurs="1" maxOccurs="1"/>
              </xsd:sequence>
            </xsd:extension>
          </xsd:complexContent>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="okResponse">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="ok" type="xsd:string" minOccurs="1" maxOccurs="1"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
    </xsd:schema>
  </wsdl:types>
  <!--======================== MESSAGES =======================================-->
  <wsdl:message name="archiveVacationRequest">
    <!--TODO: JAX-WS Wrapped mode is mandatory. We could be able to work with Bare mode-->
    <wsdl:part name="parameters" element="archiveService:archiveVacationRequest"/>
  </wsdl:message>
  <wsdl:message name="okResponse">
    <wsdl:part name="parameters" element="archiveService:okResponse"/>
  </wsdl:message>
  <!--======================== PORT TYPE (SU jbi.xml interface-name)===============-->
  <wsdl:portType name="archive">
    <wsdl:operation name="archiveVacationRequest">
      <wsdl:input name="archiveVacationRequest" message="archiveService:archiveVacationRequest"/>
      <wsdl:output message="archiveService:okResponse"/>
    </wsdl:operation>
  </wsdl:portType>
  <!--======================== BINDINGS =======================================-->
  <wsdl:binding name="archiveSoapBinding" type="archiveService:archive">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="archiveVacationRequest">
      <soap:operation soapAction="http://petals.ow2.org/samples/services/archive"/>
      <wsdl:input name="archiveVacationRequest">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <!--======================== SERVICE (SU jbi.xml service-name) ==============-->
  <wsdl:service name="archiveService">
    <wsdl:port name="autogenerate" binding="archiveService:archiveSoapBinding">
      <soap:address location="http://localhost:9003/archiveService"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>file:/home/cdeneux/workspace/petals-trunk/components-sls/components/petals-se-bpmn2/samples/su-SOAP-archiveService-provide/src/main/jbi/vacationRequest.xsd</con:url><con:content><![CDATA[<!--Copyright (c) 2015 Linagora
 
 This program/library is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 2.1 of the License, or (at your
 option) any later version.
 
 This program/library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 for more details.
 
 You should have received a copy of the GNU Lesser General Public License
 along with this program/library; If not, see <http://www.gnu.org/licenses/>
 for the GNU Lesser General Public License version 2.1.-->
<xsd:schema targetNamespace="http://petals.ow2.org/samples/se-bpmn/vacationRequest" elementFormDefault="qualified" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:vacationRequest="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
  <xsd:element name="vacationRequest" type="vacationRequest:vacationRequestType"/>
  <xsd:complexType name="vacationRequestType">
    <xsd:sequence>
      <xsd:element name="enquirer" minOccurs="1" maxOccurs="1" type="xsd:string"/>
      <xsd:element name="day-number" minOccurs="1" maxOccurs="1" type="xsd:long"/>
      <xsd:element name="start-date" minOccurs="1" maxOccurs="1" type="xsd:dateTime"/>
      <xsd:element name="reason" minOccurs="0" maxOccurs="1" type="xsd:string"/>
    </xsd:sequence>
  </xsd:complexType>
  <xsd:element name="vacationRequestId" type="xsd:string"/>
</xsd:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://cdeneux-laptop:8088/mockArchiveService</con:endpoint><con:endpoint>http://localhost:9003/archiveService</con:endpoint><con:endpoint>petals:///{http://petals.ow2.org/samples/se-bpmn/archiveService}archive</con:endpoint></con:endpoints><con:operation isOneWay="false" action="http://petals.ow2.org/samples/services/archive" name="archiveVacationRequest" bindingOperationName="archiveVacationRequest" inputName="archiveVacationRequest" sendsAttachments="false" anonymous="optional" type="Request-Response" receivesAttachments="false"><con:settings/></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="TaskServiceSoapBinding" type="wsdl" bindingName="{http://petals.ow2.org/components/activiti/generic/1.0}TaskServiceSoapBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8084/petals/services/taskService?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8084/petals/services/taskService?wsdl"><con:part><con:url>http://localhost:8084/petals/services/taskService?wsdl</con:url><con:content><![CDATA[<w:definitions name="ActivitiGenericWsdl" targetNamespace="http://petals.ow2.org/components/activiti/generic/1.0" xmlns:activiti="http://petals.ow2.org/components/activiti/generic/1.0" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/" xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" xmlns:ns10="http://petals.ow2.org/wsdlExtensions" xmlns:ns11="ns9" xmlns:ns12="ns41" xmlns:ns13="wsdl" xmlns:ns14="ns13" xmlns:ns16="ns34" xmlns:ns16_="activiti" xmlns:ns18="ns32" xmlns:ns19="soap12" xmlns:ns20="ns14" xmlns:ns21="ns30" xmlns:ns22="xsd" xmlns:ns23="ns39" xmlns:ns24="soap" xmlns:ns25="ns36" xmlns:ns25_="ns20" xmlns:ns26="w" xmlns:ns27="ns40" xmlns:ns28="ns28" xmlns:ns29="ns12" xmlns:ns30="ns21" xmlns:ns31="ns8" xmlns:ns32="ns27" xmlns:ns32_="ns25_" xmlns:ns33="ns18" xmlns:ns34="ns26" xmlns:ns35="ns16_" xmlns:ns36="ns23" xmlns:ns36_="mime" xmlns:ns38="xml" xmlns:ns39="ns22" xmlns:ns39_="ns19" xmlns:ns40="ns24" xmlns:ns41="ns25" xmlns:ns41_="ns16" xmlns:ns43="ns33" xmlns:ns45="ns11" xmlns:ns46="ns10" xmlns:ns47="ns29" xmlns:ns49="ns31" xmlns:ns50="ns7" xmlns:ns52="http" xmlns:ns54="ns35" xmlns:ns7="http://www.w3.org/ns/wsdl" xmlns:ns8="http://www.w3.org/ns/wsdl/http" xmlns:ns9="http://www.w3.org/ns/wsdl/soap" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:w="http://schemas.xmlsoap.org/wsdl/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <w:types>
    <xs:schema elementFormDefault="qualified" targetNamespace="http://petals.ow2.org/components/activiti/generic/1.0">
      <xs:element name="getTasks">
        <xs:complexType>
          <xs:sequence>
            <xs:element default="true" maxOccurs="1" minOccurs="0" name="active" type="xs:boolean">
              <xs:annotation>
                <xs:documentation>The task state (true=active, false=inactive/completed). Default value: true</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element maxOccurs="1" minOccurs="0" name="assignee" type="xs:string">
              <xs:annotation>
                <xs:documentation>The user as candidate or assignee</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element maxOccurs="1" minOccurs="0" name="process-instance-identifier" type="xs:string">
              <xs:annotation>
                <xs:documentation>Identifier of the process instance of tasks to retrieve</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="getTasksResponse">
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="1" minOccurs="1" name="tasks" type="activiti:Tasks"/>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:complexType name="Tasks">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="task" type="activiti:Task"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="Task">
        <xs:attribute name="process-definition-identifier" type="xs:string" use="required"/>
        <xs:attribute name="process-instance-identifier" type="xs:string" use="required"/>
        <xs:attribute name="task-identifier" type="xs:string" use="required"/>
      </xs:complexType>
    </xs:schema>
  </w:types>
  <w:message name="getTasksRequest">
    <w:part element="activiti:getTasks" name="getTasksRequest"/>
  </w:message>
  <w:message name="getTasksResponse">
    <w:part element="activiti:getTasksResponse" name="getTasksResponse"/>
  </w:message>
  <w:portType name="Task">
    <w:operation name="getTasks">
      <w:input message="activiti:getTasksRequest"/>
      <w:output message="activiti:getTasksResponse"/>
    </w:operation>
  </w:portType>
  <w:binding name="TaskServiceSoapBinding" type="activiti:Task">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <w:operation name="getTasks">
      <soap:operation soapAction="http://petals.ow2.org/components/activiti/generic/1.0/getTasks"/>
      <w:input>
        <soap:body use="literal"/>
      </w:input>
      <w:output>
        <soap:body use="literal"/>
      </w:output>
    </w:operation>
  </w:binding>
  <w:service name="TaskService">
    <w:port binding="activiti:TaskServiceSoapBinding" name="edpt-ee1737d0-fe08-11e4-acf8-56847afe9799">
      <soap:address location="http://localhost:8084/petals/services/taskService"/>
    </w:port>
  </w:service>
</w:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint></con:endpoints><con:operation isOneWay="false" action="http://petals.ow2.org/components/activiti/generic/1.0/getTasks" name="getTasks" bindingOperationName="getTasks" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/></con:operation></con:interface><con:testSuite name="TestSuite 1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Nominal TestCase without adjustment" searchProperties="true" id="5e9117af-9e64-4a24-ab4a-e6938f78df5f"><con:settings/><con:testStep type="properties" name="Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>vacationRequestId</con:name><con:value>141</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Create vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>new</con:operation><con:request name="Create vacation request" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:vacationRequest>
         <vac:enquirer>gonzo</vac:enquirer>
         <vac:day-number>10</vac:day-number>
         <vac:start-date>2015-04-26</vac:start-date>
         <!--Optional:-->
         <vac:reason>holidays</vac:reason>
      </vac:vacationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/newVacationRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Extract and load vacationRequestId"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>into a property 'vacationRequestId'</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>vacationRequestId</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false"><con:name>into validation request</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Validate vacation request</con:targetStep><con:targetPath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:validationRequest/ns1:vacationRequestId</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Kermit has one task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Kermit has one task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>kermit</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - Only one task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - It's a task for the expected vacation request"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task/@process-instance-identifier</path><content>${vacationRequestId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Validate vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="Validate vacation request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>141</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="2nd vacation request validation"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="2nd vacation request validation"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>112</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="Not SOAP Fault Assertion" name="SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Expected fault"><con:configuration><path>declare namespace soapenv='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns='http://petals.ow2.org/samples/se-bpmn/vacationService';
count(//soapenv:Envelope/soapenv:Body/soapenv:Fault/detail/ns:vacationRequestAlreadyValidated)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Nominal TestCase with adjustment" searchProperties="true" id="821d56d3-64a5-4085-8942-09d4f3d29453"><con:settings/><con:testStep type="properties" name="Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>vacationRequestId</con:name><con:value>141</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Create vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>new</con:operation><con:request name="Create vacation request" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:vacationRequest>
         <vac:enquirer>foozie</vac:enquirer>
         <vac:day-number>10</vac:day-number>
         <vac:start-date>2015-04-26</vac:start-date>
         <!--Optional:-->
         <vac:reason>holidays</vac:reason>
      </vac:vacationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/newVacationRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Extract and load vacationRequestId"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>into a property 'vacationRequestId'</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>vacationRequestId</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false"><con:name>into validation request</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Validate vacation request</con:targetStep><con:targetPath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:validationRequest/ns1:vacationRequestId</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false" entitize="false"><con:name>into update request</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Update vacation request</con:targetStep><con:targetPath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:vacationUpdateRequest/ns1:vacationRequestId</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>into rejection request</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Reject vacation request</con:targetStep><con:targetPath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:validationRequest/ns1:vacationRequestId</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Kermit has one task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Kermit has one task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>kermit</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - Only one task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - It's a task for the expected vacation request"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task/@process-instance-identifier</path><content>${vacationRequestId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Initiator has no task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Initiator has no task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>foozie</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - No task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Reject vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="Reject vacation request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>141</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <rejection-reason>Delivery week of your project</rejection-reason>
         <approval>false</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Initiator has one task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Initiator has one task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>foozie</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - Only one task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - It's a task for the expected vacation request"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task/@process-instance-identifier</path><content>${vacationRequestId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Kermit has no more task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Kermit has no more task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>kermit</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - No task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Update vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>update</con:operation><con:request name="Update vacation request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:vacationUpdateRequest>
         <vac1:enquirer>foozie</vac1:enquirer>
         <vac1:day-number>10</vac1:day-number>
         <vac1:start-date>2015-05-03</vac1:start-date>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>141</vac1:vacationRequestId>
         <confirmed>true</confirmed>
      </vac:vacationUpdateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Kermit has a new task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Kermit has a new task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>kermit</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - Only one task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - It's a task for the expected vacation request"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task/@process-instance-identifier</path><content>${vacationRequestId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Initiator has no more task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Initiator has no more task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>foozie</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - No task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Validate vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="Validate vacation request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>141</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Faulty TestCase - Unexpected validator" searchProperties="true" id="e735d339-a32b-452a-bd93-218245f8e543"><con:settings/><con:testStep type="properties" name="Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>vacationRequestId</con:name><con:value>190</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Create vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>new</con:operation><con:request name="Create vacation request" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:vacationRequest>
         <vac:enquirer>gonzo</vac:enquirer>
         <vac:day-number>10</vac:day-number>
         <vac:start-date>2015-04-26</vac:start-date>
         <!--Optional:-->
         <vac:reason>holidays</vac:reason>
      </vac:vacationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/newVacationRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Extract and load vacationRequestId"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>into a property 'vacationRequestId'</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>vacationRequestId</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>into validation request</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Validate vacation request</con:targetStep><con:targetPath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:validationRequest/ns1:vacationRequestId</con:targetPath></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false"><con:name>into invalid vacation request</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Vacation request validated by the wrong user</con:targetStep><con:targetPath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:validationRequest/ns1:vacationRequestId</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Kermit has one task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Kermit has one task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>kermit</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - Only one task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - It's a task for the expected vacation request"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task/@process-instance-identifier</path><content>${vacationRequestId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Vacation request validated by the wrong user"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="Vacation request validated by the wrong user"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>190</vac1:vacationRequestId>
         <approved-by>foozie</approved-by>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="Not SOAP Fault Assertion" name="SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Expected fault"><con:configuration><path>declare namespace soapenv='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns='http://petals.ow2.org/samples/se-bpmn/vacationService';
count(//soapenv:Envelope/soapenv:Body/soapenv:Fault/detail/ns:unexpectedUser)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Validate vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="Validate vacation request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>190</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Faulty TestCase - Unexpected vacation request id" searchProperties="true" id="fa69ed83-7c25-4b87-ad86-eaa2f7cbe6b7"><con:settings/><con:testStep type="properties" name="Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>vacationRequestId</con:name><con:value>219</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="request" name="Create vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>new</con:operation><con:request name="Create vacation request" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:vacationRequest>
         <vac:enquirer>gonzo</vac:enquirer>
         <vac:day-number>10</vac:day-number>
         <vac:start-date>2015-04-26</vac:start-date>
         <!--Optional:-->
         <vac:reason>holidays</vac:reason>
      </vac:vacationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/vacationService/newVacationRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Extract and load vacationRequestId"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>into a property 'vacationRequestId'</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>vacationRequestId</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>into validation request</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create vacation request</con:sourceStep><con:sourcePath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:newVacationResponse/ns1:vacationRequestId</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>Validate vacation request</con:targetStep><con:targetPath>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/samples/se-bpmn/vacationRequest';
declare namespace ns2='http://petals.ow2.org/samples/se-bpmn/vacationService';
//soap:Envelope/soap:Body/ns2:validationRequest/ns1:vacationRequestId</con:targetPath></con:transfers></con:config></con:testStep><con:testStep type="request" name="Kermit has one task in its basket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>TaskServiceSoapBinding</con:interface><con:operation>getTasks</con:operation><con:request name="Kermit has one task in its basket"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/taskService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://petals.ow2.org/components/activiti/generic/1.0">
   <soapenv:Header/>
   <soapenv:Body>
      <ns:getTasks>
         <ns:active>true</ns:active>
         <ns:assignee>kermit</ns:assignee>
      </ns:getTasks>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:assertion type="XPath Match" name="XPath Match - Only one task returns"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
count(//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - It's a task for the expected vacation request"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns1='http://petals.ow2.org/components/activiti/generic/1.0';
//soap:Envelope/soap:Body/ns1:getTasksResponse/ns1:tasks/ns1:task/@process-instance-identifier</path><content>${vacationRequestId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Vacation request validated by the wrong vacationRequestId"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="Vacation request validated by the wrong vacationRequestId"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- invalid vacationRequestId -->
         <vac1:vacationRequestId>1</vac1:vacationRequestId>
         <approved-by>foozie</approved-by>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="Not SOAP Fault Assertion" name="SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Expected fault"><con:configuration><path>declare namespace soapenv='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns='http://petals.ow2.org/samples/se-bpmn/vacationService';
count(//soapenv:Envelope/soapenv:Body/soapenv:Fault/detail/ns:vacationRequestIdUnknown)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Validate vacation request"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>vacationBinding</con:interface><con:operation>validate</con:operation><con:request name="Validate vacation request"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8084/petals/services/vacationService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:vac="http://petals.ow2.org/samples/se-bpmn/vacationService" xmlns:vac1="http://petals.ow2.org/samples/se-bpmn/vacationRequest">
   <soapenv:Header/>
   <soapenv:Body>
      <vac:validationRequest>
         <!-- vacationRequestId retrieved from the response of the vacation request creation -->
         <vac1:vacationRequestId>219</vac1:vacationRequestId>
         <approved-by>kermit</approved-by>
         <approval>true</approval>
      </vac:validationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:mockService port="8088" path="/mockNotifyVacationService" host="cdeneux-laptop" name="notifyVacationBinding MockService"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:properties/><con:mockOperation name="newVacationRequest" interface="notifyVacationBinding" operation="newVacationRequest"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:response name="Response 1" httpResponseStatus="200" encoding="UTF-8"><con:settings/><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:not="http://petals.ow2.org/samples/se-bpmn/notifyVacationService">
   <soapenv:Header/>
   <soapenv:Body>
      <not:okResponse>ok</not:okResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/notifyService/newVacationRequest"/></con:response><con:dispatchConfig/></con:mockOperation><con:mockOperation name="vacationRequestApproved" interface="notifyVacationBinding" operation="vacationRequestApproved"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:response name="Response 1" httpResponseStatus="200" encoding="UTF-8"><con:settings/><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:not="http://petals.ow2.org/samples/se-bpmn/notifyVacationService">
   <soapenv:Header/>
   <soapenv:Body>
      <not:okResponse>ok</not:okResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/notifyService/vacationRequestApproved"/></con:response><con:dispatchConfig/></con:mockOperation><con:mockOperation name="vacationRequestUpdated" interface="notifyVacationBinding" operation="vacationRequestUpdated"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:response name="Response 1" httpResponseStatus="200" encoding="UTF-8"><con:settings/><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:not="http://petals.ow2.org/samples/se-bpmn/notifyVacationService">
   <soapenv:Header/>
   <soapenv:Body>
      <not:okResponse>
         <ok>ok</ok>
      </not:okResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/se-bpmn/notifyService/vacationRequestUpdated"/></con:response><con:dispatchConfig/></con:mockOperation></con:mockService><con:mockService port="8088" path="/mockArchiveService" host="cdeneux-laptop" name="archiveSoapBinding MockService"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:properties/><con:mockOperation name="archiveVacationRequest" interface="archiveSoapBinding" operation="archiveVacationRequest"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:response name="Response 1" httpResponseStatus="200" encoding="UTF-8"><con:settings/><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:arc="http://petals.ow2.org/samples/se-bpmn/archiveService">
   <soapenv:Header/>
   <soapenv:Body>
      <arc:okResponse>
         <ok>ok</ok>
      </arc:okResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://petals.ow2.org/samples/services/archive"/></con:response><con:dispatchConfig/></con:mockOperation></con:mockService><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/></con:soapui-project>